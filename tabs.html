<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<style>
			/* =======================================
   BASE (DESKTOP FIRST)
======================================= */

			.c-tabs {
				width: 100%;
			}

			.c-tabs__tab-list {
				display: flex;
				gap: 12px;
			}

			.c-tabs__tab {
				background: none;
				border: none;
				cursor: pointer;
			}

			.c-tabs__tab--active {
				font-weight: 600;
			}

			/* Desktop behavior — hide all by default */
			.c-tabs__content {
				display: none;
			}

			.c-tabs__content--active {
				display: block;
			}

			/* Accordion headers hidden on desktop */
			.c-tabs__accordion-header {
				display: none;
			}

			/* =======================================
   MOBILE MODE (≤768px)
======================================= */
			@media (max-width: 768px) {
				/* Hide tab buttons */
				.c-tabs__tab-list {
					display: none;
				}

				.c-tabs__accordion-header {
					display: block;
					width: 100%;
					cursor: pointer;
				}

				/* Override desktop rules RESTRICTED ONLY TO MOBILE */
				.c-tabs__content {
					display: block; /* Needed to animate height */
					overflow: hidden;
					max-height: 0;
					opacity: 0;
					transition: max-height 0.35s ease, opacity 0.25s ease;
				}

				.c-tabs__content--open {
					max-height: 300px;
					opacity: 1;
				}
			}

			/* =======================================
   DESKTOP SAFETY RESET (≥769px)
   This prevents mobile styles from leaking upward.
======================================= */
			@media (min-width: 769px) {
				.c-tabs__content {
					display: none !important;
					max-height: none !important;
					opacity: 1 !important;
					overflow: visible !important;
				}

				.c-tabs__content--active {
					display: block !important;
				}

				.c-tabs__accordion-header {
					display: none !important;
				}
			}
		</style>
	</head>
	<body>
		<div class="c-tabs" id="project-tabs">
			<!-- Desktop Tab Buttons -->
			<div class="c-tabs__tab-list" role="tablist">
				<button class="c-tabs__tab c-tabs__tab--active" data-index="0">
					Overview
				</button>
				<button class="c-tabs__tab" data-index="1">Features</button>
				<button class="c-tabs__tab" data-index="2">Reviews</button>
			</div>

			<!-- Accordion + Content (shared containers) -->
			<div class="c-tabs__item">
				<button class="c-tabs__accordion-header">Overview</button>
				<div
					class="c-tabs__content c-tabs__content--active c-tabs__content--open">
					Content for Overview
				</div>
			</div>

			<div class="c-tabs__item">
				<button class="c-tabs__accordion-header">Features</button>
				<div class="c-tabs__content">Content for Features</div>
			</div>

			<div class="c-tabs__item">
				<button class="c-tabs__accordion-header">Reviews</button>
				<div class="c-tabs__content">Content for Reviews</div>
			</div>
		</div>

		<script>
			(function () {
				const root = document.querySelector("#project-tabs");
				if (!root) return;

				const tabs = root.querySelectorAll(".c-tabs__tab");
				const headers = root.querySelectorAll(".c-tabs__accordion-header");
				const contents = root.querySelectorAll(".c-tabs__content");

				/* ---------------------------
                    DEFAULT ACTIVE (index 0)
                ---------------------------- */
				activateTab(0);
				openAccordion(0);

				/* ---------------------------
                    DESKTOP TAB LOGIC
                ---------------------------- */
				function activateTab(index) {
					tabs.forEach((t) => t.classList.remove("c-tabs__tab--active"));
					contents.forEach((c) =>
						c.classList.remove("c-tabs__content--active")
					);

					tabs[index].classList.add("c-tabs__tab--active");
					contents[index].classList.add("c-tabs__content--active");
				}

				/* ---------------------------
                    MOBILE ACCORDION LOGIC
                ---------------------------- */
				function openAccordion(index) {
					contents.forEach((c, i) => {
						if (i === index) {
							c.classList.add("c-tabs__content--open");
							c.style.maxHeight = c.scrollHeight + "px";
						} else {
							c.classList.remove("c-tabs__content--open");
							c.style.maxHeight = "0px";
						}
					});
				}

				/* ---------------------------
                    EVENT LISTENERS
                ---------------------------- */
				tabs.forEach((tab, i) => {
					tab.addEventListener("click", () => activateTab(i));
				});

				headers.forEach((header, i) => {
					header.addEventListener("click", () => openAccordion(i));
				});
			})();
		</script>
	</body>
</html>
